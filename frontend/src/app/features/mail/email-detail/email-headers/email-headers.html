<div class="p-4 space-y-4">
  <div class="flex gap-2">
    <label class="relative flex-1 flex items-center">
      <i class="pi pi-search absolute left-3 text-surface-500 dark:text-surface-400 pointer-events-none"></i>
      <input pInputText type="text" [(ngModel)]="searchTerm" placeholder="Search headers..." class="w-full pl-10" />
    </label>
    <p-button
      icon="pi pi-copy"
      label="Copy All"
      [text]="true"
      severity="secondary"
      (onClick)="copyAllHeaders()"
      pTooltip="Copy all headers to clipboard"
    />
  </div>

  <div class="border border-surface-200 dark:border-surface-700 rounded-lg overflow-hidden">
    <div class="overflow-x-auto">
      <table class="w-full text-sm">
        <thead class="bg-surface-100 dark:bg-surface-800">
          <tr>
            <th class="px-4 py-2 text-left font-semibold text-surface-700 dark:text-surface-300 w-1/4">Header Name</th>
            <th class="px-4 py-2 text-left font-semibold text-surface-700 dark:text-surface-300">Value</th>
            <th class="px-4 py-2 w-16"></th>
          </tr>
        </thead>
        <tbody>
          @for (header of filteredHeaders(); track header.key) {
            <tr
              class="border-t border-surface-200 dark:border-surface-700 hover:bg-surface-50 dark:hover:bg-surface-800"
            >
              <td class="px-4 py-2 font-semibold text-surface-900 dark:text-surface-100 align-top">
                {{ header.key }}
              </td>
              <td class="px-4 py-2 font-mono text-xs text-surface-700 dark:text-surface-300 break-all">
                {{ header.value }}
              </td>
              <td class="px-4 py-2 align-top">
                <p-button
                  icon="pi pi-copy"
                  [text]="true"
                  [rounded]="true"
                  size="small"
                  severity="secondary"
                  (onClick)="copyToClipboard(header.value)"
                  pTooltip="Copy value"
                />
              </td>
            </tr>
          } @empty {
            <tr>
              <td colspan="3" class="px-4 py-8 text-center text-surface-400">No headers found</td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>
